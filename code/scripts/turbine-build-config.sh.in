# BASH-formatted setup script processed by turbine/configure
#
# This contains variables relevant to compiling code that uses the 
# Turbine C interface

TURBINE_HOME='@prefix@'
TURBINE_VERSION='@TURBINE_VERSION@'
C_UTILS_HOME='@USE_C_UTILS@'
TCL_HOME='@USE_TCL@'
TCL_VERSION='@TCL_VERSION@'
TCL_LIB_DIR='@USE_TCL_LIB_DIR@'
TCL_SYSLIB_DIR='@USE_TCL_SYSLIB_DIR@'
TCL_LIB_SPEC='@TCL_LIB_SPEC@'
# Tcl library dependencies for static build
TCL_LIB_SPEC_EXTRA='@TCL_LIB_SPEC_EXTRA@'
TCL_INCLUDE_SPEC='@TCL_INCLUDE_SPEC@'
TCLSH='@USE_TCLSH@'
ADLB_HOME='@USE_ADLB@'

MPI_INCLUDE='@USE_MPI_INCLUDE@'
# Only one of the following is used
MPI_LIB_DIR='@USE_MPI_LIB_DIR@'
MPI_LIB_NAME='@USE_MPI_LIB_NAME@'

ENABLE_MPE='@ENABLE_MPE@'
MPE='@USE_MPE@'


# TURBINE_INCLUDES has the flags for all non-system dependencies of 
# Turbine that user code may reference
TURBINE_INCLUDES="-I${TURBINE_HOME}/include -I${C_UTILS_HOME}/include \
                  -I${ADLB_HOME}/include ${TCL_INCLUDE_SPEC}"
if [ ! -z "$MPI_INCLUDE" -a "$MPI_INCLUDE" != 0 ]; then
  TURBINE_INCLUDES+=" -I$MPI_INCLUDE"
fi

# TURBINE_INCLUDES has the flags for all library dependencies of
# Turbine that user code may reference
TURBINE_LIBS="-L${TURBINE_HOME}/lib \
              -ltclturbinestatic -ltclturbinestaticres -ltclturbine \
              -L${ADLB_HOME}/lib -ladlb \
              -L${C_UTILS_HOME}/lib -lexmcutils \
              ${TCL_LIB_SPEC} ${TCL_LIB_SPEC_EXTRA}"
if [ ! -z "$MPI_LIB_DIR" -a "$MPI_LIB_DIR" != 0 ]; then
  TURBINE_LIBS+=" -L$MPI_LIB_DIR"
fi
TURBINE_LIBS+=" -l${MPI_LIB_NAME}"

if [ "$ENABLE_MPE" = 1 ]; then
  TURBINE_LIBS+=" -L${MPE}/lib -lmpe"
  TURBINE_INCLUDES+=" -I${MPE}/include"
fi

